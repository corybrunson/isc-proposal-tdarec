# The proposal
<!--
This is where the proposal should be outlined. 
-->

The **goal** of this pilot is to publish or republish 1--3 packages that seamlessly integrate popular techniques from topological data analysis into common statistical workflows in R.
The **expected benefit** is that these extensions will be downloaded and used by researchers and analysts with no specialized background in TDA, which will expose them and their communities to the broader package collection and create sufficient awareness, interest, and demand for users to request features and contribute to the packages.

## Overview
<!--
At a high-level address what your proposal is and how it will address the problem identified. Highlight any benefits to the R Community that follow from solving the problem. This should be your most compelling section.
-->

The Tidymodels package collection[^tidymodels] provides a complete machine learning toolkit for the most common predictive modeling tasks.
Analyses using Tidymodels can be extended to handle less common needs, such as by using time-to-event models through {censored} and customizing performance metrics in {yardstick}.
Machine learning relies heavily on the use of data- and task-appropriate pre-processing steps, especially vectorization methods, and the last decade of work in topological data analysis has produced dozens of promising steps based on persistent homology.
To date, none of these are available to Tidymodels users, and our **primary goal** is to meet that need.
We will accomplish this with an extension to the {recipes} package, which provides pre-processing steps for Tidymodels workflows.

[^tidymodels]: <https://www.tidymodels.org/>

**Pitch {TDAstats} overhaul.**

**Pitch {ripserr} refactorization.**

## Detail
<!--
Go into more detail about the specifics of the project and it delivers against the problem.

Depending on project type the detail section should include:

 - [ ] Minimum Viable Product
 - [ ] Architecture
 - [ ] Assumptions
-->

**Primary goal:** Publish a {recipes} extension for vectorizations (and other pre-processing transformations) based on persistent homology.

Several pre-processing extensions have been published for Tidymodels, including **list some**.
One PI has direct experience writing such an extension, for association rules.[^arulesteps]

[^arulesteps]: <https://github.com/corybrunson/arulesteps>

The following transformations should be implemented or imported [@Fasy2020; @Pun2022; @Ali2022]:

Statistical vectorizations

* Persistence statistics [@Ali2022]
* Entropy summary [@Ali2022]
* 2D histogram [@Fasy2020]

Algebraic vectorizations

* Algebraic functions [@Ali2022]
* Tropical coordinate functions [@Ali2022]
* Complex polynomial [@Ali2022]

Curve vectorizations

* Betti curve [@Fasy2020; @Ali2022]
* Lifespan curve [@Ali2022]
* Persistence landscape [@Fasy2020; @Ali2022]
* Persistence silhouette [@Ali2022]

Functional vectorizations

* Persistence surface [@Pun2022]
* Persistence image [@Fasy2020]
* Template functions [@Ali2022]

**Secondary goal:** Redesign {TDAstats} to specialize in hypothesis tests and better integrate into tidy workflows.

1. Remove Ripser source code and {ggplot2} plotting routines in favor of dependency on {ripserr} and {ggtda}.
2. Identify additional hypothesis tests and null models that should be included [@Robinson2017; @VejdemoJohansson2022].
3. Use standard classes and methods (e.g. class 'htest', method `print()`) to make output follow common R conventions; include {generics} methods like `tidy()`.

The following hypothesis tests are already implemented:

* permutation test for difference in means [@Robinson2017]

The following hypothesis tests may be implemented (listed in order of likely inclusion and feasibility):

* bootstrap sample hypothesis tests [@Blumberg2014]
* Z-test and permutation test for persistence landscapes [@Bubenik2015], currently implemented in {plt}
* exact topological inference [@Chung2017]
* tests for grouped point clouds [@Abdallah2023]

**Tertiary goal:** Refactor {ripserr} with a current implementation of Ripser, including options to recover representative cocycles and cycles.
